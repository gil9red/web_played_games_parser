<!DOCTYPE html>
<html lang="ru">
<head>
    <meta content='text/html; charset=UTF-8' http-equiv='Content-Type'/>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>{{ title }}</title>

    <link rel="shortcut icon" type="image/x-icon" href="{{ url_for('static', filename='favicon/favicon.ico') }}">
    <link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='favicon/apple-touch-icon.png') }}">
    <link rel="icon" type="image/png" sizes="32x32" href="{{ url_for('static', filename='favicon/favicon-32x32.png') }}">
    <link rel="icon" type="image/png" sizes="16x16" href="{{ url_for('static', filename='favicon/favicon-16x16.png') }}">
    <link rel="manifest" href="{{ url_for('static', filename='favicon/site.webmanifest') }}">

    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='bootstrap-4.4.1/bootstrap.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='my-bootstrap-treeview-2.1.0/my-bootstrap-treeview.css') }}">
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='glyphicon/glyphicon.css') }}">

    <script src="{{ url_for('static', filename='js/jquery-2.1.4.js') }}"></script>
    <script src="{{ url_for('static', filename='bootstrap-4.4.1/bootstrap.bundle.js') }}"></script>
    <script src="{{ url_for('static', filename='my-bootstrap-treeview-2.1.0/my-bootstrap-treeview.js') }}"></script>
    <script src="{{ url_for('static', filename='js/parser.js') }}"></script>

    <!-- noty -->
    <script src="{{ url_for('static', filename='js/jquery.noty.packaged.min.js') }}"></script>

    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/index.css') }}">
</head>
<body>
    <div id="glass" class="container-fluid">
        <div class="row align-items-center h-100">
            <div class="col d-flex justify-content-center">
                <div class="spinner-border text-primary" style="margin: auto;" role="status">
                    <span class="sr-only">Загрузка...</span>
                </div>
            </div>
        </div>
    </div>

    <div class="container mt-2">
        <div class="row" style="display: none">
            <div class="col mt-2 mb-2">
                <div class="progress">
                    <div id="progressBar" class="progress-bar progress-bar-striped progress-bar-animated w-100" role="progressbar"
                       aria-valuenow="100" aria-valuemin="0" aria-valuemax="100">
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <button id="notify_need_refresh" type="button" class="btn btn-warning mt-2 mb-2 btn-block" style="display: none">
                    Данные не актуальны! Жми, чтобы обновить!
                </button>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <div id="msg_error" class="alert alert-danger alert-dismissible m-2" style="display: none">
                    <button type="button" class="close" data-dismiss="alert">&times;</button>
                    <strong>Ошибка!</strong> <div id="msg_error_text"></div>
                </div>
            </div>
        </div>
        <div id="context" class="row flex-row-reverse" style="display: none">
            <div class="col-md-4 w-100 mb-3 pl-2 pr-2">
                <div class="card-header">
                    <button class="btn w-100 collapsed"
                            data-toggle="collapse" data-target="#switch_visible_table_stats"
                            aria-expanded="true" aria-controls="switch_visible_table_stats"
                    >
                        Статистика
                    </button>
                </div>
                <div id="switch_visible_table_stats" class="card card-body p-0 collapse show">
                    <table id="table_stats" class="table mb-0">
                        <tr><td>Всего:</td><td id="stats_total">-</td></tr>
                        <tr><td>&nbsp;&nbsp;&nbsp;&nbsp;Игр:</td><td id="stats_total_games">-</td></tr>
                        <tr><td>&nbsp;&nbsp;&nbsp;&nbsp;DLC:</td><td id="stats_total_DLC">-</td></tr>
                        <tr><td>&nbsp;&nbsp;&nbsp;&nbsp;Другое:</td><td id="stats_total_other">-</td></tr>
                        <tr><td>&nbsp;&nbsp;&nbsp;&nbsp;Пройдено:</td><td id="stats_total_finished_game">-</td></tr>
                        <tr><td>&nbsp;&nbsp;&nbsp;&nbsp;Не пройдено:</td><td id="stats_total_not_finished_game">-</td></tr>
                        <tr><td>&nbsp;&nbsp;&nbsp;&nbsp;Просмотрено:</td><td id="stats_total_finished_watched">-</td></tr>
                        <tr><td>&nbsp;&nbsp;&nbsp;&nbsp;Не просмотрено:</td><td id="stats_total_not_finished_watched">-</td></tr>
                        <tr><td>Платформ:</td><td id="stats_total_platforms">-</td></tr>
                        <tr style="display: none"><td>Найдено игр:</td><td id="stats_found_game">-</td></tr>
                    </table>

                    <div class="card-header">
                        <button class="btn w-100 collapsed"
                                data-toggle="collapse" data-target="#collapse_timers"
                                aria-expanded="false" aria-controls="collapse_timers"
                        >
                            Таймеры:
                        </button>
                    </div>
                    <div id="collapse_timers" class="card-body p-2 collapse">
                        <table id="table_timers" class="table table-sm mb-0">
                            <tr><td>Поиск (мс):</td><td id="stats_elapsed_time_search">-</td></tr>
                        </table>
                    </div>
                </div>
            </div>
            <div class="col-md-8 pl-2 pr-2">
                <div class="flex-column">
                    <div class="input-group mb-2">
                        <input type="text" class="form-control" id="tree-search" placeholder="Введите для поиска..." autocomplete="on">
                        <div class="input-group-append">
                            <button class="btn btn-outline-danger tree-search-clear" type="button">Очистить</button>
                        </div>
                    </div>
                    <div id="tree"></div>
                </div>
            </div>
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/index.js') }}"></script>
    <noscript>
        <h1>Без javascript не работает.</h1>
    </noscript>
</body>
</html>